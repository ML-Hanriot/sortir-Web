{% extends 'base.html.twig' %}

{% block title %}Gestion des Campus{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1 class="text-center mb-4">Gestion des Campus</h1>

        <div class="table-responsive">
            <table class="table table-bordered">
                <thead class="thead-light">
                <tr>
                    <th>Nom du Campus</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for c in campus %}
                    <tr>
                        <td>{{ c.nom }}</td>
                        <td>
                            <!-- Lien pour ouvrir le formulaire de modification -->
                            <button onclick="document.getElementById('edit-form-{{ c.id }}').style.display='block'" class="btn btn-primary" style="margin-right: 5px;">Modifier</button>

                            <!-- Formulaire pour la suppression -->
                            <form action="{{ path('campus_delete', { id: c.id }) }}" method="post" style="display:inline;">
                                <button type="submit" class="btn btn-danger">Supprimer</button>
                            </form>

                            <!-- Formulaire pour la modification -->
                            <div id="edit-form-{{ c.id }}" style="display:none; margin-top: 10px;">
                                <form action="{{ path('campus_edit', { id: c.id }) }}" method="post">
                                    <input type="text" name="nom" value="{{ c.nom }}" class="form-control" required>
                                    <button type="submit" class="btn btn-success mt-2">Modifier</button>
                                </form>
                            </div>
                        </td>
                    </tr>
                {% endfor %}
                <tr>
                    <td colspan="2" class="text-center">
                        <a href="{{ path('campus_new') }}" class="btn btn-success">Ajouter un nouveau campus</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
